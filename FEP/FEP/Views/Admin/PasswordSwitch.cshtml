@using FEP.Models
@using FEP.Utility
@using FEP.Controllers
@{
    ViewBag.Title = "Thay Đổi Mật Khẩu";
    Layout = "~/Views/Shared/_LayoutPageAdmin.cshtml";
}
<style>
    .row-item {
        display: flex;
        align-items: center;
        margin: 10px 0;
    }

        .row-item > div:first-child {
            text-align: right;
        }

        .row-item > div:last-child {
            width: 100%;
        }

    .err-form {
        background-color: #f8d7da;
        width: 50%;
        margin-left: auto;
        padding: 2px 10px;
        color: #721c2e;
    }
</style>

@using (Html.BeginForm("PasswordSwitch", "Admin"))
{
    <div style="padding:10px 0;">
        <div style="min-height: 300px; width: 100%; width: 60%; margin: 0 auto; box-shadow: 0px 0px 4px -1px rgba(255,255,255,0.4)">
            <div class="container" style="padding:20px;">
                <div class="row">
                    <div class="col-12" style="border-bottom: 1px solid rgba(255,255,255,0.2); font-size: 14px; padding: 20px 40px">
                        <h4>Đổi mật khẩu</h4>
                        <span style="padding-left:10px;">Để bảo mật tài khoản, vui lòng không chia sẻ mật khẩu cho người khác</span>
                    </div>
                    <div class="col-12">
                        <div class="row-item">
                            <div class="col-4 pe-5">Mật khẩu hiện tại</div>
                            <div><input type="password" name="Password" class="w-100" /></div>
                        </div>
                        @if (ViewData["LoiPassword"] != null)
                        {
                            <div class="err-form">@ViewData["LoiPassword"]</div>
                        }
                        <div class="row-item">
                            <div class="col-4 pe-5">Mật khẩu mới</div>
                            <div><input type="password" name="NewPassword" class="w-100" /></div>
                        </div>
                        @if (ViewData["LoiNewPassword"] != null)
                        {
                            <div class="err-form">@ViewData["LoiNewPassword"]</div>
                        }
                        <div class="row-item">
                            <div class="col-4 pe-5">Xác nhận mật khẩu mới</div>
                            <div><input type="password" name="PrePassword" class="w-100" /></div>
                        </div>
                        @if (ViewData["LoiPrePassword"] != null)
                        {
                            <div class="err-form">@ViewData["LoiPrePassword"]</div>
                        }
                        <div class="row-item" style="padding-left:-12px;">
                            <div class="col-4 pe-5">
                                <button class="btn btn-warning">Xác nhận</button>
                            </div>
                            <div class="col-8 text-right">
                                <a href="#">Quên mật khẩu?</a>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
}

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

@if (ViewData["Error"] != null)
{
    if (ViewData["Error"].ToString() == "Cập nhật thành công.")
    {
        <script>
            Swal.fire({
                icon: 'success',
                html: '<b style="color:green;">Cập nhật thành công !</b>'
            })
        </script>
    }
    else
    {
        <script>
            Swal.fire({
                icon: 'error',
                html: '<b style="color:red;">@ViewData["Error"].ToString()</b>'
            })
        </script>
    }
    ViewData["Error"] = null;
}
