@using FEP.Models
@using FEP.Core.Services
@{
    Sneaker sneaker = ViewBag.Sneaker;
    List<Sneaker> sptt = ViewBag.SPTT;
    List<string> detailsPic = ViewBag.DetailsImage;
    List<int> sizes = ViewBag.Sizes;
    List<int> inventorySize = ViewBag.InventorySize;
    SneakerService _SneakerService = ViewBag.SneakerService;
}
@{
    ViewBag.Title = sneaker.Name;
    Layout = "~/Views/Shared/_LayoutPageMain.cshtml";
}

<div class="container-dv">
    <!-- PHẦN BODY < PRODUCT > -->
    <div class="body">
        <div class="container-xl">
            <div class="row">
                <div class="col-lg-12">
                    <div class="product_page_detail page-buy">
                        <div class="product__linked page-buy">
                            <div class="row">
                                <div class="col-lg-12 col-md-12">
                                    <div class="product__link page-buy">
                                        <span><a href="/index.html" title="Trang chủ"><i class="fas fa-home"></i> Trang chủ</a></span>
                                        <span><a href="" title="Dép Balenciaga">/ Dép Balenciaga</a></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="product__detail page-buy">
                            <div class="row">
                                <div class="col-lg-6 col-md-7">
                                    <div class="product__imgs page-buy">
                                        <ul class="product__imgs-pc">
                                            @foreach (var item in detailsPic)
                                            {
                                                <li><img src="~/Content/img/Details/@sneaker.ID/@item" alt="" onclick="changeImage('@item[0]')" id="@item[0]"></li>
                                            }
                                        </ul>
                                        <div id="main-img">
                                            <img src="~/Content/img/Details/@sneaker.ID/@detailsPic.First()" alt="" id="img-main">
                                        </div>
                                        <ul class="product__imgs-mobi">
                                            @foreach (var item in detailsPic)
                                            {
                                                <li><img src="~/Content/img/Details/@sneaker.ID/@item" alt="" onclick="changeImage('@item[0]')" id="@item[0]"></li>
                                            }
                                        </ul>
                                    </div>
                                </div>
                                <div class="offset-2 col-lg-4 col-md-5">
                                    <div class="product__describe">
                                        <div class="product__describe-infor">
                                            <div class="product__describe-infor-name">
                                                <h1>@sneaker.Name</h1>
                                                <span id="code">Mã SP:</span>
                                                <span id="number"><strong>@sneaker.ID</strong></span>
                                            </div>
                                            <div class="product__describe-infor-price">
                                                <div class="product__describe-infor-price product__describe-infor-price--current">@string.Format("{0:0,0}", sneaker.PriceAfterDiscount) ₫</div>
                                                @if (sneaker.Discount != 0)
                                                {
                                                    <div class="product__describe-infor-price product__describe-infor-price--old">@string.Format("{0:0,0}", sneaker.Price) ₫</div>
                                                }
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="product__describe-size">
                                            <p>Vui lòng chọn size:</p>
                                            <div class="cover-button">
                                                @foreach (var item in sizes)
                                                {
                                                    if (_SneakerService.CheckSizeInventory(inventorySize, item))
                                                    {
                                                        <button class="button_size" id="@item"><h2>@item</h2></button>
                                                    }
                                                    else
                                                    {
                                                        <button class="button_enable" id="@item"><h2>@item</h2></button>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="product__describe-custom">
                                            <!-- <button class="reduced is-form" type="button" onclick="reducedItems()">-</button> -->
                                            <input class="product__describe-custom-reduced is-form" type="button" value="-">
                                            <input aria-label="quantity" class="product__describe-custom-input" max="100" min="1" name="" type="number" value="1">
                                            <input class="product__describe-custom-increase is-form" type="button" value="+">
                                            <!-- <button class="increase is-form" type="button" onclick="reducedItems()">+</button> -->
                                        </div>
                                        <div class="product__describe-choose">
                                            <div class="product__describe-choose product__describe-choose--add">
                                                <a title="Thêm vào giỏ hàng"><button><strong>THÊM VÀO GIỎ HÀNG</strong></button></a>
                                            </div>
                                            <div class="product__describe-choose product__describe-choose--buy">
                                                <a href="#" title="Mua hàng"><button><strong>MUA NGAY</strong></button></a>
                                            </div>
                                        </div>
                                        <div class="product__describe-contact">
                                            <!-- <p>Hoặc đặt mua: <span><strong>0909300746</strong></span> (Tư vấn Miễn phí)</p> -->
                                            <div class="product__describe-contact-social-network-icons">
                                                <a id="sn1" title="Twitter" href="https://twitter.com/share?url=https%3A%2F%2Fkingshoes.vn%2Fair-force-1-nam-315122-111--315115-112--dd8959-100--cw2288-111.html&text=Nike%20%20Sneaker%20AIR%20FORCE%201%20-%20315122%20111%20%40%20KingShoes.vn%20B%C3%A1n%20Gi%C3%A0y%20Sneaker%20Ch%C3%ADnh%20H%C3%A3ng%20T%E1%BA%A1i%20Tphcm%20%E2%9C%9315%20Ng%C3%A0y%20%C4%90%E1%BB%95i%20H%C3%A0ng%20%E2%9C%93Giao%20H%C3%A0ng%20Mi%E1%BB%85n%20Ph%C3%AD%20%E2%9C%93Thanh%20To%C3%A1n%20Khi%20Nh%E1%BA%ADn%20H%C3%A0ng%20%E2%9C%93B%E1%BA%A3o%20H%C3%A0nh%20H%C3%A0ng%20Ch%C3%ADnh%20H%C3%A3ng%20Tr%E1%BB%8Dn%20%C4%90%E1%BB%9Di." target="_blank"><i class="fab fa-twitter"></i></i></a>
                                                <a id="sn2" title="Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fkingshoes.vn%2Fair-force-1-nam-315122-111--315115-112--dd8959-100--cw2288-111.html" target="_blank"><i class="fab fa-facebook"></i></a>
                                                <a id="sn3" title="Pinterest" href="https://www.pinterest.com/pin/create/bookmarklet/?&url=https%3A%2F%2Fkingshoes.vn%2Fair-force-1-nam-315122-111--315115-112--dd8959-100--cw2288-111.html&description=Nike%20%20Sneaker%20AIR%20FORCE%201%20-%20315122%20111%20%40%20KingShoes.vn%20B%C3%A1n%20Gi%C3%A0y%20Sneaker%20Ch%C3%ADnh%20H%C3%A3ng%20T%E1%BA%A1i%20Tphcm%20%E2%9C%9315%20Ng%C3%A0y%20%C4%90%E1%BB%95i%20H%C3%A0ng%20%E2%9C%93Giao%20H%C3%A0ng%20Mi%E1%BB%85n%20Ph%C3%AD%20%E2%9C%93Thanh%20To%C3%A1n%20Khi%20Nh%E1%BA%ADn%20H%C3%A0ng%20%E2%9C%93B%E1%BA%A3o%20H%C3%A0nh%20H%C3%A0ng%20Ch%C3%ADnh%20H%C3%A3ng%20Tr%E1%BB%8Dn%20%C4%90%E1%BB%9Di." target="_blank"><i class="fab fa-pinterest"></i></a>
                                                <a id="sn4" title="Messenger" href="#" target="_blank"><i class="fab fa-facebook-messenger"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="product__show col-lg-12">
                                    <div class="product__show-help">
                                        <div class="product__show-help product__show-help--describe"><a href="">Mô tả</a></div>
                                    </div>
                                    <div class="product__show-imgs">
                                        @for (int i = 1; i < detailsPic.Count; i++)
                                        {
                                            <img src="~/Content/img/Details/@sneaker.ID/@detailsPic[i]" alt="">
                                        }
                                    </div>
                                    <div class="product__show-benefit">
                                        <p id="title">
                                            Lợi ích khi mua @sneaker.Name tại Shop giày FEP™
                                        </p>
                                        <p id="benefit">
                                        <p class="benefit-text"><span class="color-red">></span>Cam kết chỉ bán giày chuẩn chất lượng từ Rep 1:1 - Like Auth.</p>
                                        <p class="benefit-text"><span class="color-red">></span>Hàng có sẵn tại Shop. Không qua bên thứ 3 ---> Chất lượng giày qua kiểm định kỹ càng.</p>
                                        <p class="benefit-text"><span class="color-red">></span>Video quay review, phân biệt so sánh từng chất lượng khác nhau.</p>
                                        <p class="benefit-text"><span class="color-red">></span>Khách hàng được kiểm tra, đi thử trước khi nhận hàng.</p>
                                        <p class="benefit-text"><span class="color-red">></span>Giao hàng toàn quốc đồng giá 30k, <strong>FREESHIP</strong> với đơn hàng trên 2 triệu.</p>
                                        </p>
                                    </div>
                                </div>
                                <div class="product__similar col-lg-12">
                                    <div class="product__similar-title">
                                        <h3>- SẢN PHẨM TƯƠNG TỰ -</h3>
                                    </div>
                                    <div class="container-xl">
                                        <div class="row">
                                            <div class="col-lg-10 col-md-12 col-sm-12 col-12 offset-1">
                                                <!-- Container -->
                                                <div class="container-dv">
                                                    <!-- <div class="run-out"><span>hết hàng</span></div> -->
                                                    <div class="row">
                                                        @foreach (Sneaker item in sptt)
                                                        {
                                                            List<string> AnhBia = _SneakerService.GetCoverPicture(item.ID);
                                                            <div class="product col-lg-3 col-md-6 col-sm-6 col-6">
                                                                <a href="@Url.Action("ProductDetails", "Home", new { idSneaker=item.ID })" class="product__link detail" title="@item.Name">
                                                                    @if (item.Discount != 0)
                                                                    {
                                                                        <span class="sale detail">- @item.Discount%</span>
                                                                    }
                                                                    <img class="product__img detail" src="~/Content/img/Link/@item.ID/@AnhBia[0]" alt="@item.Name">
                                                                    @if (AnhBia.Count > 1)
                                                                    {
                                                                        <div class="product__hover detail">
                                                                            <img class="product__hover-img" src="~/Content/img/Link/@item.ID/@AnhBia[1]" alt="@item.Name">
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="product__hover detail">
                                                                            <img class="product__hover-img" src="~/Content/img/Link/@item.ID/@AnhBia[0]" alt="@item.Name">
                                                                        </div>
                                                                    }
                                                                    @if (_SneakerService.GetAmountInventorySneaker(item.ID) == 0)
                                                                    {
                                                                        <div class="run-out"><span>hết hàng</span></div>
                                                                    }
                                                                </a>
                                                                <div class="product__caption detail">
                                                                    <h3><a href="@Url.Action("ProductDetails", "Home", new { idSneaker=item.ID })" class="product__caption-link detail" title="@item.Name">@item.Name</a></h3>
                                                                </div>
                                                                <div class="product__price detail">
                                                                    <div class="product__price-current detail">@string.Format("{0:0,0}", item.PriceAfterDiscount)<span class="product__price-current--symbol">₫</span></div>
                                                                    @if (item.Discount != 0)
                                                                    {
                                                                        <div class="product__price-old detail">@string.Format("{0:0,0}", item.Price)<span class="product__price-current--symbol">₫</span></div>
                                                                    }
                                                                </div>
                                                                <div class="detail__buy">
                                                                    <a href="@Url.Action("ProductDetails", "Home", new { idSneaker=item.ID })" class="detail__buy-link">Mua ngay</a>
                                                                </div>
                                                            </div>
                                                        }

                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<script src="~/Content/js/menu-tab-mobi.js"></script>
<script src="~/Content/bootstrap5/js/bootstrap.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="~/Content/js/main.js"></script>

